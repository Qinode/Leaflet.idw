<!DOCTYPE html>
<html>

<head>
  <title>GridLayer Test</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.css" />
  <style>
    body {
      padding: 0;
      margin: 0;
    }

    html,
    body,
    #map {
      height: 100%;
      width: 100%;
    }
  </style>
</head>

<body>
  <div id="map"></div>
</body>
<script src="http://cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.js">
</script>

<script src="../src/leaflet-idw-directdraw.js">
</script>
<script src="exampledata.js"></script>

<script>
  var map = L.map('map').setView([-37.87, 175.475], 12);

  var tiles = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
  }).addTo(map);

  var callback = function(min, max) {
    console.log(`min: ${min}`);
    console.log(`max: ${max}`);
  };

  var displayValue = {
    min: 800,
    max: 1000
  };

  var idw = L.idwLayer(addressPoints, {
    opacity: 0.3,
    maxZoom: 18,
    cellSize: 10,
    exp: 3,
    // redrawFinish: callback,
    displayValue: displayValue
  }).addTo(map);
  console.log(idw);

  displayValue.min = 500;
  displayValue.max = 700;
  setTimeout(function() {idw.setOptions({ displayValue: displayValue }); console.log(idw);}, 5000)

  // setTimeout(function() {idw.setOptions({ displayValue: undefined }); console.log(idw)}, 10000)
</script>

</html>
